'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Schedule=function(){function Schedule(funcToRun){_classCallCheck(this,Schedule);this.stop=this.stop.bind(this);this.runAt=this.runAt.bind(this);this.scheduleAt=this.scheduleAt.bind(this);this.func=funcToRun;this.timerIdR=false;this.timerIdS=false;this.intervalId=false;}_createClass(Schedule,[{key:'stop',value:function stop(){this.timerIdR?clearTimeout(this.timerIdR):null;this.timerIdS?clearTimeout(this.timerIdS):null;this.intervalId?clearInterval(this.intervalId):null;}},{key:'runAt',value:function runAt(time){if(typeof this.func==='function'){return console.log('first argument has to be function');}else if(time.split(':').length!==2||time.split(':')[0].length!==2||time.split(':')[1].length!==2){return console.log('second argument has to be string, which will present time: "**:**"');}else{var now=new Date(),tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate(),time.split(':')[0],time.split(':')[1])-now;if(tillFirstStart<=0){tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,time.split(':')[0],time.split(':')[1])-now;}this.timerIdR=setTimeout(this.func,tillFirstStart);}}},{key:'scheduleAt',value:function scheduleAt(days,timeString){var _this=this;var time=timeString;if(!time)time='00:00';if(typeof this.func==='function'){return console.log('first argument has to be function');}else if(!Number.isInteger(days)){return console.log('second argument has to be number, which will present days');}else if(time.split(':').length!==2||time.split(':')[0].length!==2||time.split(':')[1].length!==2){return console.log('third argument has to be string, which will present time: "**:**"');}else{(function(){var now=new Date(),tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate(),time.split(':')[0],time.split(':')[1])-now,eachDays=days*86400000;if(tillFirstStart<=0){tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,time.split(':')[0],time.split(':')[1])-now;}_this.timerIdS=setTimeout(function(){_this.intervalId=setInterval(_this.func,eachDays);},tillFirstStart);})();}}},{key:'trigger',set:function set(newFunction){this.func=newFunction;}},{key:'get',get:function get(){return this.func;}}],[{key:'runAt',value:function runAt(func,time){if(typeof func==='function'){return console.log('first argument has to be function');}else if(time.split(':').length!==2||time.split(':')[0].length!==2||time.split(':')[1].length!==2){return console.log('second argument has to be string, which will present time: "**:**"');}else{var now=new Date(),tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate(),time.split(':')[0],time.split(':')[1])-now;if(tillFirstStart<=0){tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,time.split(':')[0],time.split(':')[1])-now;}setTimeout(func,tillFirstStart);}}},{key:'scheduleAt',value:function scheduleAt(func,days,timeString){var time=timeString;if(!time)time='00:00';if(typeof func==='function'){return console.log('first argument has to be function');}else if(!Number.isInteger(days)){return console.log('second argument has to be number, which will present days');}else if(time.split(':').length!==2||time.split(':')[0].length!==2||time.split(':')[1].length!==2){return console.log('third argument has to be string, which will present time: "**:**"');}else{(function(){var now=new Date(),tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate(),time.split(':')[0],time.split(':')[1])-now,eachDays=days*86400000;if(tillFirstStart<=0){tillFirstStart=new Date(now.getFullYear(),now.getMonth(),now.getDate()+1,time.split(':')[0],time.split(':')[1])-now;}setTimeout(function(){return setInterval(func,eachDays);},tillFirstStart);})();}}}]);return Schedule;}();exports.default=Schedule;